webpackJsonp([5],{227:function(t,e,a){a(496);var n=a(94)(a(397),a(523),null,null);t.exports=n.exports},243:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(32),r=a.n(n),s=a(31),o=a.n(s),i=a(55),l=a.n(i),c=a(95),u=a(54),d=a(96);e.default={data:function(){return{baseImgPath:u.b}},created:function(){this.adminInfo.id||this.getAdminData()},computed:l()({},a.i(d.b)(["adminInfo"]),{avatar:function(){return this.adminInfo.avatar?this.adminInfo.avatar:"abbfb1246eb9f9bb453188ec5491d771"}}),methods:l()({},a.i(d.c)(["getAdminData","removeAdminData"]),{handleCommand:function(t){var e=this;return o()(r.a.mark(function n(){var s;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if("home"!=t){n.next=4;break}e.$router.push("/manage"),n.next=9;break;case 4:if("signout"!=t){n.next=9;break}return n.next=7,a.i(c.d)();case 7:s=n.sent,s?(e.$message({type:"success",message:"退出成功"}),e.removeAdminData(),e.$router.push("/")):e.$message({type:"error",message:s.message});case 9:case"end":return n.stop()}},n,e)}))()}})}},244:function(t,e,a){e=t.exports=a(214)(!1),e.push([t.i,".allcover{position:absolute;top:0;right:0}.ctt{left:50%;transform:translate(-50%,-50%)}.ctt,.tb{position:absolute;top:50%}.tb{transform:translateY(-50%)}.lr{position:absolute;left:50%;transform:translateX(-50%)}.header_container{background-color:#eff2f7;height:60px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center;padding-left:20px}.avator{width:36px;height:36px;border-radius:50%;margin-right:37px}.el-dropdown-menu__item{text-align:center}",""])},245:function(t,e,a){var n=a(244);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(215)("9f44acdc",n,!0)},246:function(t,e,a){a(245);var n=a(94)(a(243),a(247),null,null);t.exports=n.exports},247:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header_container"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/manage"}}},[t._v("首页")]),t._v(" "),t._l(t.$route.meta,function(e,n){return a("el-breadcrumb-item",{key:n},[t._v(t._s(e))])})],2),t._v(" "),a("el-dropdown",{attrs:{"menu-align":"start"},on:{command:t.handleCommand}},[a("img",{staticClass:"avator",attrs:{src:t.baseImgPath+t.avatar}}),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"home"}},[t._v("首页")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"signout"}},[t._v("退出")])],1)],1)],1)},staticRenderFns:[]}},397:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(32),r=a.n(n),s=a(31),o=a.n(s),i=a(246),l=a.n(i),c=a(95);e.default={data:function(){return{tableData:[],count:0,queryData:{name:"",status:null,yn:null,pageIndex:1,pageSize:10},statusList:[{value:0,desc:"待审核",type:"primary"},{value:1,desc:"审核通过",type:"success"},{value:2,desc:"驳回",type:"error"}],ynList:[{value:0,desc:"正常"},{value:1,desc:"封禁"}]}},components:{headTop:l.a},computed:{},created:function(){this.initData()},methods:{tableRowClassName:function(t,e){return 1===e?"info-row":3===e?"positive-row":""},getStatusStr:function(t){return this.statusList.find(function(e){return e.value===t}).desc},handleUserStatus:function(t){var e=this;return o()(r.a.mark(function a(){var n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.b.handleUserStatus(t);case 2:n=a.sent,n.success?(e.initData(),e.$message({type:"success",message:"操作成功!"})):e.$message({type:"error",message:n.message?n.message:"操作失败,请稍后重试!"});case 4:case"end":return a.stop()}},a,e)}))()},handleUserEffect:function(t){var e=this;return o()(r.a.mark(function a(){var n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.b.handleUserEffect(t);case 2:n=a.sent,n.success?(e.initData(),e.$message({type:"success",message:"操作成功!"})):e.$message({type:"error",message:n.message?n.message:"操作失败,请稍后重试!"});case 4:case"end":return a.stop()}},a,e)}))()},handleAccess:function(t){var e=this;this.$confirm("此操作将通过审核, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.handleUserStatus({openId:t.openId,status:1})}).catch(function(){})},handleForbid:function(t){var e=this;this.$confirm("此操作将用户封禁, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.handleUserEffect({openId:t.openId,yn:1})}).catch(function(){})},handleUnForbid:function(t){var e=this;this.$confirm("此操作将用户解封, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.handleUserEffect({openId:t.openId,yn:0})}).catch(function(){})},changeState:function(t){return this.statusList.find(function(e){return e.value===t}).type},handleRefuse:function(t){var e=this;this.$prompt("请输入驳回原因","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(a){var n=a.value;e.handleUserStatus({openId:t.openId,status:2,rejectReason:n})}).catch(function(){})},initData:function(){var t=this;return o()(r.a.mark(function e(){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.b.getUserList(t.queryData);case 3:a=e.sent,a.success&&(t.count=a.totalCount,t.tableData=a.dataList),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("获取数据失败",e.t0);case 10:case"end":return e.stop()}},e,t,[[0,7]])}))()},handleCurrentChange:function(t){this.queryData.pageIndex=t,this.initData()},openUserInfoPage:function(t){window.open("/userInfo?openId="+t,"_blank")}}}},406:function(t,e,a){e=t.exports=a(214)(!1),e.push([t.i,".allcover{position:absolute;top:0;right:0}.ctt{left:50%;transform:translate(-50%,-50%)}.ctt,.tb{position:absolute;top:50%}.tb{transform:translateY(-50%)}.lr{position:absolute;left:50%;transform:translateX(-50%)}.table_container{padding:20px}.el-table .info-row{background:oldlace}.el-table .positive-row{background:#f0f9eb}",""])},496:function(t,e,a){var n=a(406);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(215)("a09fe980",n,!0)},523:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"fillcontain"},[a("head-top"),t._v(" "),a("div",{staticClass:"table_container"},[a("div",{staticStyle:{"margin-left":"20px"}},[a("el-form",{ref:"form",staticClass:"demo-form-inline",attrs:{model:t.queryData,inline:!0}},[a("el-form-item",{attrs:{label:"昵称"}},[a("el-input",{model:{value:t.queryData.name,callback:function(e){t.$set(t.queryData,"name",e)},expression:"queryData.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"审核状态"}},[a("el-select",{attrs:{clearable:""},model:{value:t.queryData.status,callback:function(e){t.$set(t.queryData,"status",e)},expression:"queryData.status"}},[t._l(t.statusList,function(t){return[a("el-option",{attrs:{label:t.desc,value:t.value}})]})],2)],1),t._v(" "),a("el-form-item",{attrs:{label:"用户状态"}},[a("el-select",{attrs:{clearable:""},model:{value:t.queryData.yn,callback:function(e){t.$set(t.queryData,"yn",e)},expression:"queryData.yn"}},[t._l(t.ynList,function(t){return[a("el-option",{attrs:{label:t.desc,value:t.value}})]})],2)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.initData}},[t._v("查询")])],1)],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"row-class-name":t.tableRowClassName,"highlight-current-row":""}},[a("el-table-column",{attrs:{type:"index",align:"center",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{property:"openId",label:"唯一标识",align:"center",width:"220"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticStyle:{"white-space":"inherit","line-height":"1.2"},attrs:{type:"text"},on:{click:function(a){return t.openUserInfoPage(e.row.openId)}}},[t._v(t._s(e.row.openId))])]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"name",label:"用户昵称",align:"center",width:"220"}}),t._v(" "),a("el-table-column",{attrs:{label:"审核状态",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:t.changeState(e.row.status),"close-transition":""}},[t._v(t._s(t.getStatusStr(e.row.status)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"rejectReason",align:"center",label:"驳回原因"}}),t._v(" "),a("el-table-column",{attrs:{label:"用户状态",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:0===e.row.yn?"success":"error","close-transition":""}},[t._v(t._s(0===e.row.yn?"正常":"封禁"))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.status?a("el-button",{attrs:{size:"small"},on:{click:function(a){return t.handleAccess(e.row)}}},[t._v("通过")]):t._e(),t._v(" "),0===e.row.status?a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){return t.handleRefuse(e.row)}}},[t._v("驳回")]):t._e(),t._v(" "),1===e.row.status&&0===e.row.yn?a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){return t.handleForbid(e.row)}}},[t._v("封禁")]):t._e(),t._v(" "),1===e.row.yn?a("el-button",{attrs:{size:"small"},on:{click:function(a){return t.handleUnForbid(e.row)}}},[t._v("解封")]):t._e()]}}])})],1),t._v(" "),a("div",{staticClass:"Pagination",staticStyle:{"text-align":"left","margin-top":"10px"}},[a("el-pagination",{attrs:{"current-page":t.queryData.pageIndex,"page-size":t.queryData.pageSize,layout:"total, prev, pager, next",total:t.count},on:{"current-change":t.handleCurrentChange}})],1)],1)],1)},staticRenderFns:[]}}});